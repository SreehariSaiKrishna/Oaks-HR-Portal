<div class="profile-wrapper">
  <div class="profile-header">
    <div class="title">
      My Profile
      <div class="subtitle">
        Manage your personal and professional information
      </div>
    </div>
    <!-- <div class="subtitle">Manage your personal and professional information</div> -->
  </div>

  <div class="profile-card">
    <div class="avatar-section">
      <div class="avatar">{{ user?.name?.charAt(0) | uppercase }}</div>
      <div class="user-details">
        <div class="name">{{ user?.name }}</div>
        <p class="position">{{ user?.designation }}</p>
      </div>
    </div>

    <div class="info-grid">
      <div class="info-box">
        <i class="material-icons">group</i>
        <!-- <mat-icon aria-hidden="false" aria-label="Add Person" fontIcon="group"></mat-icon> -->
        <span class="label">Team</span>
        <div class="designation">{{ user?.team }}</div>
      </div>
      <div class="info-box">
        <i class="material-icons">event</i>
        <!-- <mat-icon aria-hidden="false" aria-label="Add Person" fontIcon="calendar_month"></mat-icon> -->
        <span class="label">DOJ</span>
        <div class="designation">
          {{ user?.doj }}
        </div>
      </div>
      <div class="info-box">
        <i class="material-icons">email</i>
        <!-- <mat-icon aria-hidden="false" aria-label="Add Person" fontIcon="mail"></mat-icon> -->
        <span class="label">Email</span>
        <div class="designation">{{ user?.email }}</div>
      </div>
      <div class="info-box">
        <i class="material-icons">badge</i>
        <!-- <mat-icon aria-hidden="false" aria-label="Add Person" fontIcon="badge"></mat-icon> -->
        <span class="label">Employee ID</span>
        <div class="designation">{{ user?.employeeId }}</div>
      </div>
      <div class="info-box">
        <i class="material-icons">badge</i>
        <!-- <mat-icon aria-hidden="false" aria-label="Add Person" fontIcon="badge"></mat-icon> -->
        <span class="label">Reporting Manager</span>
        <div class="designation">{{ user?.reportingManager }}</div>
      </div>
      <div class="info-box">
        <i class="material-icons">badge</i>
        <!-- <mat-icon aria-hidden="false" aria-label="Add Person" fontIcon="badge"></mat-icon> -->
        <span class="label">Reporting Manager email</span>
        <div class="designation">{{ user?.managerEmail }}</div>
      </div>
      <div class="info-box">
        <i class="material-icons">work_history</i>
        <!-- <mat-icon aria-hidden="false" aria-label="Add Person" fontIcon="badge"></mat-icon> -->
        <span class="label">Tenure</span>
        <div class="designation">
          {{ years }} Years, {{ months }} Months, {{ days }} Days
        </div>
      </div>
    </div>
  </div>

  <!-- <div class="tabs">
    <button class="tab active"><i class="material-icons">work</i> Personal Information</button>
  </div> -->

  <div class="work-info-card">
    <div class="work">
      Personal Information
      <div class="button-group" *ngIf="isEditMode; else editButton">
        <!-- Save Button -->
        <button class="save-btn" (click)="saveChanges()">
          <mat-icon fontIcon="check_circle"></mat-icon>
          Save
        </button>

        <!-- Cancel Button -->
        <button class="cancel-btn" (click)="cancelEdit()">
          <mat-icon fontIcon="cancel"></mat-icon>
          Cancel
        </button>
      </div>

      <ng-template #editButton>
        <!-- Edit Button -->
        <button class="edit-btn" (click)="toggleEdit()">
          <mat-icon fontIcon="edit"></mat-icon>
          Edit
        </button>
      </ng-template>
    </div>

    <div class="form-grid" *ngIf="user">
      <div class="form-group">
        <label><i class="material-icons">home</i>Present Address
        </label>
        <input type="text" [(ngModel)]="user.presentAddress" [readonly]="!isEditMode" />
      </div>
      <div class="form-group">
        <label><i class="material-icons">house</i>Permanent Address
        </label>
        <input type="text" [(ngModel)]="user.permanentAddress" [readonly]="!isEditMode" />
      </div>

      <div class="form-group">
        <label><i class="material-icons">call</i>Contact No</label>
        <input type="text" [(ngModel)]="user.Contact" [readonly]="!isEditMode" />
      </div>

      <div class="form-group date-picker-group">
        <label>
          <i class="material-icons">cake</i>
          Date of Birth
        </label>
        <div class="date-input-wrapper">
          <input matInput [matDatepicker]="picker" formControlName="date" [(ngModel)]="user.dateOfBirth"
            [readonly]="!isEditMode" [disabled]="!isEditMode" placeholder="Select date" />
          <mat-datepicker-toggle matSuffix [for]="picker" class="calendar-toggle"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </div>
      </div>

      <div class="form-group">
        <label><i class="material-icons">bloodtype</i>Blood Group</label>
        <input type="text" [(ngModel)]="user.bloodGroup" [readonly]="!isEditMode" />
      </div>
      <div class="form-group">
        <label><i class="material-icons">topic</i>Addhaar card No</label>
        <input type="text" [(ngModel)]="user.addhaar" [readonly]="!isEditMode" />
      </div>
      <div class="form-group">
        <label><i class="material-icons">topic</i>Pan card No</label>
        <input type="text" [(ngModel)]="user.pan" [readonly]="!isEditMode" />
      </div>
      <div class="form-group">
        <label><i class="material-icons">interests</i>Hobbies</label>
        <input type="text" [(ngModel)]="user.hobbies" [readonly]="!isEditMode" />
      </div>
    </div>
  </div>

  <div class="logout-section">
    <button class="edit-btn" (click)="logout()">
      <mat-icon aria-hidden="false" aria-label="Add Person" fontIcon="logout"></mat-icon>
      Logout
    </button>
  </div>
</div>